---
import NotificationBanner from "~/features/notifications/components/NotificationBanner.astro"
import { getNavigationProps } from "./getNavigationProps.ts"
import { NavBar } from "./NavBar"

const { productsNav, subProductsNav } = getNavigationProps()

const path = Astro.url.pathname
const algoliaVars = {
  algoliaAppId: import.meta.env.PUBLIC_ALGOLIA_SEARCH_APP_ID || "",
  algoliaPublicApiKey: import.meta.env.PUBLIC_ALGOLIA_SEARCH_PUBLIC_API_KEY || "",
  googleProjectId: import.meta.env.PUBLIC_GOOGLE_PROJECT_ID || "",
  googleAppId: import.meta.env.PUBLIC_GOOGLE_APP_ID || "",
  googleAccessToken: import.meta.env.PUBLIC_GOOGLE_ACCESS_TOKEN || "",
}
---

<!-- Google Tag Manager (noscript) -->
<noscript></noscript><iframe
  src="https://www.googletagmanager.com/ns.html?id=GTM-N6DQ47T"
  height="0"
  width="0"
  style="display:none;visibility:hidden"></iframe>
<!-- End Google Tag Manager (noscript) -->
<NavBar
  path={path}
  productsNav={productsNav}
  subProductsNav={subProductsNav}
  algoliaVars={algoliaVars}
  client:only="react"
/>

<NotificationBanner />
