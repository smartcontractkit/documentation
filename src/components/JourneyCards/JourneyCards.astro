---
import { Tag, Typography } from "@chainlink/blocks"
import { JourneyTabGrid } from "./JourneyTabGrid"

const columns = [
  {
    title: "Learn & Explore",
    items: [
      {
        title: "Explore Secure Offchain Compute with CRE",
        description: "Learn how CRE enables verifiable, isolated offchain execution for advanced Web3 applications.",
        badge: "cre",
        href: "/cre",
      },
      {
        title: "Explore Cross-Chain Interoperability with CCIP",
        description: "Learn cross-chain concepts, workflows, and real-world use cases.",
        badge: "ccip",
        href: "/ccip",
      },
      {
        title: "Understand How Data Feeds Power dApps",
        description: "See how oracle data feeds deliver price feeds and reference data.",
        badge: "data feeds",
        href: "/data-feeds",
      },
      {
        title: "Learn How Data Streams Deliver Real-Time Data",
        description: "Understand how low-latency streams support time-sensitive applications.",
        badge: "data streams",
        href: "/data-streams",
      },
    ],
  },
  {
    title: "Build & Integrate",
    items: [
      {
        title: "Build Verifiable Compute Workflows",
        description: "Define CRE jobs, run secure workloads, and deliver trusted results to smart contracts.",
        badge: "cre",
        href: "/cre/getting-started/overview",
      },
      {
        title: "Build Cross-Chain Apps with CCIP Tutorials",
        description: "Follow step-by-step guides with language switching (EVM, Rust, Move, etc.).",
        badge: "ccip",
        href: "ccip/tutorials",
      },
      {
        title: "Integrate Data Feeds into Smart Contracts",
        description: "Plug feeds into your apps with examples and addresses.",
        badge: "data feeds",
        href: "/data-feeds/integrations",
      },
      {
        title: "Implement Real-Time Use Cases with Data Streams",
        description: "Use low-latency data in trading, gaming, and other live applications.",
        badge: "data streams",
        href: "/data-streams/tutorials",
      },
    ],
  },
  {
    title: "Operate & Scale",
    items: [
      {
        title: "Scale Secure Compute with CRE",
        description: "Operate high-throughput, compute-intensive workloads with strong isolation guarantees.",
        badge: "cre",
        href: "/cre/capabilities",
      },
      {
        title: "Monitor CCIP Transactions in Real Time",
        description: "Track the progress and status of cross-chain transactions.",
        badge: "ccip",
        href: "/ccip/monitoring",
      },
      {
        title: "Stay Up to Date with Data Feeds",
        description: "Rely on changelogs and schema updates for new feeds and updates.",
        badge: "data feeds",
        href: "/data-feeds/changelog",
      },
      {
        title: "Deliver Reliable Low-Latency Data with Streams",
        description: "Operate Data Streams at scale for critical, time-sensitive use cases.",
        badge: "data streams",
        href: "/data-streams/operations",
      },
    ],
  },
]

// Transform columns to tabs format for JourneyTabGrid
const tabs = columns.map((column) => ({
  name: column.title,
  items: column.items.map((item) => ({
    title: item.title,
    description: item.description,
    link: item.href,
    badge: item.badge,
  })),
}))
---

<section>
  <section class="desktop">
    <Typography variant="h4" className="section-title">Start your Chainlink journey</Typography>
    <div class="journey-cards">
      {
        columns.map((column) => (
          <div class="journey-column">
            <header class="column-header">
              <Typography variant="h5" className="column-title">
                {column.title}
              </Typography>
            </header>
            {column.items.map((item) => (
              <a href={item.href} class="journey-card">
                <div class="card-content">
                  <Typography variant="body-semi">{item.title}</Typography>
                  <Typography variant="body-s" color="muted">
                    {item.description}
                  </Typography>
                </div>

                <footer class="journey-footer">
                  <Tag size="sm" className="footer-tag">
                    <Typography variant="code-s">{item.badge}</Typography>
                  </Tag>
                  <img src="/assets/icons/upper-right-arrow.svg" class="footer-icon" />
                </footer>
              </a>
            ))}
          </div>
        ))
      }
    </div>
  </section>
  <section class="mobile">
    <JourneyTabGrid header="Start your Chainlink journey" tabs={tabs} client:only="react" />
  </section>
</section>

<style>
  .desktop {
    display: none;
  }

  .mobile {
    display: block;
  }

  .journey-cards {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
  }

  .journey-column {
    display: flex;
    flex-direction: column;
    border-left: 1px solid var(--border);
  }

  .journey-card {
    gap: var(--space-6x);
    padding: var(--space-6x);
  }

  .footer-tag {
    text-transform: uppercase;
  }

  .journey-card:hover {
    background-color: var(--muted);

    .footer-tag {
      background-color: var(--background) !important;
    }

    .footer-icon {
      opacity: 1;
    }
  }

  .card-content {
    display: flex;
    flex-direction: column;
    gap: var(--space-2x);
    margin-bottom: var(--space-8x);
  }

  .journey-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .section-title {
    font-size: 28px;
    margin-bottom: var(--space-10x);
  }

  .footer {
    padding-top: var(--space-1x);
  }
  .footer-icon {
    height: 12px;
    width: 12px;
    opacity: 0;
  }

  .card-badge {
    display: inline-flex;
    align-items: center;
    padding: var(--space-1x) var(--space-2x);
    background-color: var(--gray-100);
    border-radius: 4px;
    font-size: 11px;
    font-weight: 500;
    text-transform: uppercase;
    color: var(--gray-600);
    letter-spacing: 0.5px;
    align-self: flex-start;
  }

  .column-header {
    padding: var(--space-2x) var(--space-6x);
    border-left: 3px solid var(--brand);
  }

  @media (min-width: 769px) {
    .desktop {
      display: block;
    }

    .mobile {
      display: none;
    }

    .column-title {
      font-size: 22px;
      line-height: 26px;
    }

    .journey-card h4 {
      font-size: 16px;
      line-height: 22px;
    }
  }

  @media screen and (min-width: 62em) {
    .section-title {
      font-size: 32px;
    }
  }
</style>
