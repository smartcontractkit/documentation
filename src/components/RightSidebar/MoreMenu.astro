---
import * as CONFIG from "../../config"

const { editHref } = Astro.props
const pathname = Astro.url.pathname
const section = pathname.split("/").filter(Boolean)[0]
const llmsHref = `/${section}/llms-full.txt`
const showMoreSection = CONFIG.COMMUNITY_INVITE_URL || editHref

// âœ… Only show for specific products
const supportedSections = [
  "vrf",
  "ccip",
  "data-feeds",
  "data-streams",
  "chainlink-functions",
  "chainlink-automation",
  "resources",
  "architecture-overview",
  "getting-started",
  "chainlink-nodes",
  "chainlink-local",
]
const llmsExists = supportedSections.includes(section)
---

{showMoreSection && <h2 class="heading">More</h2>}
<ul>
  {
    llmsExists && (
      <li class="header-link">
        <a href={llmsHref} target="_blank" class="llms-link">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M12.06 2.06L13 0L13.94 2.06L16 3L13.94 3.94L13 6L12.06 3.94L10 3L12.06 2.06ZM4.47 7.47L6.5 3L8.53 7.47L13 9.5L8.53 11.53L6.5 16L4.47 11.53L0 9.5L4.47 7.47Z"
              fill="#0847F7"
            />
          </svg>
          <p>View as plain text for LLMs</p>
        </a>
        <svg width="34" height="18" viewBox="0 0 34 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M25 0C29.9706 2.57702e-07 34 4.02944 34 9C34 13.9706 29.9706 18 25 18H9C4.02944 18 0 13.9706 0 9C0 4.02944 4.02944 2.57702e-07 9 0H25ZM7 6V11.8184H7.87793V7.55078H7.93164L10.8896 11.8184H11.6963V6H10.8271V10.2725H10.7725L7.8125 6H7ZM14.0771 6V11.8184H17.7588V11.0625H14.9541V9.28125H17.5342V8.52832H14.9541V6.75586H17.7246V6H14.0771ZM19.5225 6L21.1357 11.8184H22.0225L23.2471 7.45996H23.292L24.5166 11.8184H25.4004L27.0166 6H26.0908L24.96 10.5088H24.9062L23.7266 6H22.8125L21.6328 10.5059H21.5791L20.4453 6H19.5225Z"
            fill="#0847F7"
          />
        </svg>
      </li>
    )
  }
  {
    editHref && (
      <li class="header-link">
        <a href={editHref} target="_blank">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_8806_115917)">
              <path
                d="M9.5337 3.99301C9.51053 3.96962 9.48296 3.95105 9.45258 3.93835C9.42221 3.92565 9.38963 3.91908 9.3567 3.91901C9.32382 3.91901 9.29125 3.92551 9.26088 3.93812C9.23051 3.95073 9.20292 3.96922 9.1797 3.99251L3.7187 9.45501C3.67184 9.50189 3.64551 9.56547 3.64551 9.63176C3.64551 9.69805 3.67184 9.76162 3.7187 9.80851L6.1927 12.2825C6.23959 12.3294 6.30316 12.3557 6.36945 12.3557C6.43575 12.3557 6.49932 12.3294 6.5462 12.2825L12.0047 6.82401C12.0514 6.77714 12.0777 6.71367 12.0777 6.64751C12.0777 6.58134 12.0514 6.51787 12.0047 6.47101L9.5337 3.99301Z"
                fill="#0D5DFF"
              />
              <path
                d="M3.215 10.4C3.18356 10.3687 3.14433 10.3463 3.10136 10.3351C3.05839 10.324 3.01322 10.3244 2.9705 10.3365C2.92771 10.3485 2.8889 10.3717 2.85805 10.4037C2.8272 10.4357 2.80544 10.4753 2.795 10.5185L2.042 13.657C2.03206 13.6986 2.03296 13.742 2.0446 13.7832C2.05624 13.8243 2.07825 13.8618 2.1085 13.892C2.13895 13.9219 2.17646 13.9436 2.21753 13.9552C2.25861 13.9667 2.30194 13.9677 2.3435 13.958L5.4795 13.208C5.52275 13.1977 5.56245 13.176 5.59451 13.1452C5.62658 13.1144 5.64985 13.0756 5.66192 13.0328C5.674 12.99 5.67444 12.9447 5.6632 12.9017C5.65197 12.8587 5.62946 12.8194 5.598 12.788L3.215 10.4Z"
                fill="#0D5DFF"
              />
              <path
                d="M13.5999 3.46202L12.5384 2.40002C12.3041 2.16614 11.9865 2.03479 11.6554 2.03479C11.3243 2.03479 11.0068 2.16614 10.7724 2.40002L10.0634 3.10852C10.0166 3.15541 9.99023 3.21898 9.99023 3.28527C9.99023 3.35156 10.0166 3.41514 10.0634 3.46202L12.5384 5.93652C12.5853 5.98339 12.6489 6.00972 12.7152 6.00972C12.7815 6.00972 12.845 5.98339 12.8919 5.93652L13.5999 5.22702C13.8335 4.99272 13.9647 4.67537 13.9647 4.34452C13.9647 4.01368 13.8335 3.69633 13.5999 3.46202Z"
                fill="#0D5DFF"
              />
            </g>
            <defs>
              <clipPath id="clip0_8806_115917">
                <rect width="12" height="12" fill="white" transform="translate(2 2)" />
              </clipPath>
            </defs>
          </svg>

          <p>Edit this page</p>
        </a>
      </li>
    )
  }
</ul>

<style>
  ul {
    display: flex;
    flex-direction: column;
    gap: var(--space-1x);
    margin-top: var(--space-3x);
    list-style: none;
  }

  .heading {
    color: var(--gray-900, #141921);
    letter-spacing: 1px;
    text-transform: uppercase;
    margin-bottom: 0;
    font-size: 10px;
    font-weight: 500;
    line-height: 130%; /* 13px */
  }

  .header-link {
    font-size: 14px;
    color: var(--blue-600, #375bd2);
  }

  .header-link * {
    margin: 0;
    max-width: 100%;
    color: inherit;
    font: inherit;
  }

  .header-link.active,
  .header-link:hover,
  .header-link:focus {
    color: var(--theme-accent);
    fill: var(--theme-accent);
  }

  .header-link:focus-within {
    color: var(--theme-text-light);
    fill: var(--theme-text-light);
  }

  .header-link a {
    display: inline-flex;
    gap: var(--space-2x);
    width: 100%;
    padding: 0.15em 0 0.15em 0;
    text-decoration: none;
  }

  .header-link {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.25rem;
  }

  .llms-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    text-decoration: none;
    color: inherit;
    flex-grow: 1;
  }
</style>
