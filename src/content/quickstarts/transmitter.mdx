---
title: "Automated Data Relay with Data Streams Transmitter"
description: "Set up and manage a self-hosted, automated relay to push off-chain Data Streams to your smart contracts."
githubSourceCodeUrl: "https://github.com/hackbg/chainlink-datastreams-transmitter"
image: "QuickStarts-DataStreams-Transmitter.webp"
products: ["streams"]
time: "25 minutes"
requires: "Foundry, Docker, Node.js, pnpm, Redis, Wallet with ETH and LINK, Data Streams credentials."
---

import { Accordion, Address, Aside, ClickToZoom, CodeSample, CopyText } from "@components"
import { TabsContent } from "@components/Tabs"

import DataStreams from "@features/data-streams/common/DataStreams.astro"

{/* Common Links */}

[DOCKER_INSTALL]: https://docs.docker.com/get-started/get-docker/
[NODE_INSTALL]: https://nodejs.org/en/download/
[REDIS_INSTALL]: https://redis.io/docs/latest/operate/oss_and_stack/install/archive/install-redis/
[GITHUB_REPO]: https://github.com/hackbg/chainlink-datastreams-transmitter
[DATA_STREAMS_CONTACT]: https://chainlinkcommunity.typeform.com/datastreams?typeform-source=docs.chain.link#ref_id=docs
[FOUNDRY_INSTALL]: https://book.getfoundry.sh/getting-started/installation

## Overview

<Aside type="caution" title="Disclaimer">
  The Data Streams Transmitter and the reference consumer contract are community-built tools. The Transmitter is
  developed and maintained by [HackBG](https://github.com/hackbg) and the contract is a community endeavour. These are
  not official Chainlink products and are not supported by Chainlink Labs. No warranties or guarantees are provided.
  Please do your own research and audit the code before using this tool in a production environment.
</Aside>

While [Chainlink Data Streams](/data-streams/index) provide access to low-latency market data off-chain, the process of bringing this data on-chain requires significant engineering. Developers must build, deploy, and maintain a custom infrastructure service that can reliably connect to the Data Streams API, implement robust WebSocket reconnection logic, and manage the on-chain transaction logic for when and how to push updates.

The [Data Streams Transmitter][GITHUB_REPO], a community-led solution, provides a foundational framework for the DevOps teams and Infrastructure Managers tasked with building these systems. Transmitter is a configurable service that handles the core logic of monitoring off-chain data streams and pushing them to your smart contracts based on predefined conditions, such as time intervals or price deviations. It also includes a web interface to manage your feeds and monitor their status.

This guide walks you through deploying a `DataStreamsFeed` consumer contract, setting up the Data Streams Transmitter, and configuring it to monitor a specific Data Stream and relay it to your on-chain contract.

---

## High-level Architecture

<Aside type="tip" title="Learn More">
  This is a high-level overview of the Data Stream Transmitter architecture. For a more detailed overview of the core
  Data Streams architecture, including its components and pull-based model, refer to the [Data Streams
  Architecture](/data-streams/architecture) documentation.
</Aside>

Transmitter relays data from the off-chain Chainlink network to your on-chain contracts in the following sequence:

1.  **Off-chain | Data Generation:** A Chainlink Decentralized Oracle Network (DON) generates and signs low-latency data reports, making them available in the off-chain Data Streams Aggregation Network.

1.  **Off-chain | Monitoring:** Transmitter continuously monitors this stream of reports via a WebSocket connection.

1.  **On-chain | Transmission:** Based on your predefined conditions (such as a time interval or price deviation), Transmitter takes a report from the off-chain stream and pushes its data on-chain into your designated Oracle Contract.

1.  **On-chain | Verification:** Your Oracle Contract validates the report's authenticity by passing it to the Chainlink Verifier Contract, which checks the cryptographic signature from the DON.

1.  **On-chain | Consumption:** Once this on-demand verification is complete, the data in your Oracle Contract is considered trustworthy and is ready to be read and utilized by your dApp or other smart contracts.

<ClickToZoom
  src="/images/quickstarts/feature/QuickStarts-DataStreams-Transmitter.webp"
  alt="Data Streams Transmitter Diagram"
/>

---

## Requirements

<DataStreams section="dsNotes" />

Before you start this tutorial, ensure you have the following prerequisites:

- **Deployment Host**: A stable server environment (cloud or on-premise) is required for a production deployment of the Transmitter service. This guide uses your local machine for initial setup and testing.
- **Software Dependencies**: [Foundry][FOUNDRY_INSTALL], [Docker][DOCKER_INSTALL], [Node.js][NODE_INSTALL], and [Redis][REDIS_INSTALL] installed on your deployment host. This guide uses `pnpm` for package management.
- **Development Wallet**: This guide requires a funded development wallet and its **private key** to send transactions.
  - **Network Configuration**: This guide uses **Arbitrum Sepolia**. You can find RPC URLs on [Chainlist](https://chainlist.org).
  - **Testnet Funds**: The wallet must be funded with testnet `LINK` and `ETH` to pay for transaction fees on the **Arbitrum Sepolia** network. Both are available from the [Chainlink Faucet](https://faucets.chain.link/).
- **API Credentials**: Access to Data Streams requires API credentials. If you haven't already, [contact us][DATA_STREAMS_CONTACT] to request Data Streams access.
- **Web3 Foundation**: A basic understanding of [smart contracts and blockchain development](/quickstarts/deploy-your-first-contract).

---

## Steps to implement

<Accordion title="Deploy Consumer Contract" number={1}>
First, deploy a `DataStreamsFeed.sol` contract. This contract receives and stores the data relayed by the Transmitter. This guide uses [Foundry](https://book.getfoundry.sh/) to build and deploy the contract from a pre-configured repository.

1.  Install [Foundry][FOUNDRY_INSTALL], or update it to the latest version by running `foundryup` in your terminal.

1.  Clone the `chainlink-transmitter-contract` repository and navigate into the directory:

    ```bash
    git clone https://github.com/woogieboogie-jl/chainlink-transmitter-contract.git
    cd chainlink-transmitter-contract
    ```

1.  Install the dependencies using `pnpm`. If you don't have `pnpm`, you can install it by running `npm install -g pnpm`.

    ```bash
    pnpm install
    ```

1.  Create a `.env` file in the project's root directory to store your private key and RPC URL:

    ```bash
    cat >.env <<EOF
    PRIVATE_KEY=0xYOUR_PRIVATE_KEY
    RPC_URL_ARBITRUM_SEPOLIA=https://sepolia-rollup.arbitrum.io/rpc
    EOF
    ```

    Replace `0xYOUR_PRIVATE_KEY` with your actual wallet private key.

1.  Load the environment variables into your current shell session:

    ```bash
    source .env
    ```

1.  Configure `script/DeployDataStreamsFeed.s.sol`.

    This script deploys the `DataStreamsFeed` contract, which is the consumer contract that will receive data from the Transmitter. You need to set the constructor arguments for the contract.

    | Parameter        | Value                                                                | Description                                |
    | :--------------- | :------------------------------------------------------------------- | :----------------------------------------- |
    | `verifierProxy_` | `0x2ff010DEbC1297f19579B4246cad07bd24F2488A`                         | Arbitrum Sepolia Verifier                  |
    | `_feedId`        | `0x000359843a543ee2fe414dc14c7e7920ef10f4372990b79d6361cdc0dd1ba782` | ETH/USD                                    |
    | `_decimals`      | `18`                                                                 | The number of decimals for the data.       |
    | `_description`   | `"ETH / USD Feed"`                                                   | A human-readable description for the feed. |

1.  Choose your deployment method below and run the corresponding script.

   <TabsContent sharedStore="deployType" client:visible>
  <Fragment slot="tab.1">One-Shot Deploy (Recommended)</Fragment>
  <Fragment slot="tab.2">Deploy Only</Fragment>
  <Fragment slot="panel.1">
     This is the simplest method. It deploys the contract and automatically grants the `ADMIN` and `REPORT_VERIFIER` roles to the deploying wallet address.

         Run the deployment script to deploy to **Arbitrum Sepolia**:
         ```sh
         forge script script/DeployDataStreamsFeedWithRoleAssign.s.sol:DeployDataStreamsFeedWithRoleAssign \
            --rpc-url $RPC_URL_ARBITRUM_SEPOLIA \
            --private-key $PRIVATE_KEY \
            --broadcast
         ```
         After deployment, copy the **Deployed Contract Address** and **ABI** from the output. You will need them to configure the Transmitter.
         - **Contract Address:** Find the contract address in your terminal output under `deployedAddress`.
         - **Contract ABI:** Foundry saves the ABI in `out/DataStreamsFeed.sol/DataStreamsFeed.json`.

      </Fragment>

  <Fragment slot="panel.2">
     This method provides more granular control, deploying the contract first and requiring you to grant roles manually.

         1.  Run the deployment script:
            ```sh
            forge script script/DeployDataStreamsFeed.s.sol:DeployDataStreamsFeed \
                  --rpc-url $RPC_URL_ARBITRUM_SEPOLIA \
                  --private-key $PRIVATE_KEY \
                  --broadcast
            ```
         1.  Copy the **Deployed Contract Address** and **ABI** from the output.

         1.  Grant the `REPORT_VERIFIER_ROLE` to the wallet address you will use for your Transmitter service.
            ```bash
            # The address of the contract you just deployed
            DEPLOYED_FEED_ADDRESS=<0xYOUR_DEPLOYED_CONTRACT_ADDRESS>

            # The wallet address of your transmitter service
            TRANSMITTER_WALLET_ADDRESS=<0xYOUR_TRANSMITTER_WALLET_ADDRESS>

            # REPORT_VERIFIER role hash (= keccak256("REPORT_VERIFIER_ROLE"))
            ROLE=0xf9f8c20c4c3b902ac9f63b3ab127d0fa52ad9efa682a9cbbead7833d9777cd4e

            cast send $DEPLOYED_FEED_ADDRESS "grantRole(bytes32,address)" $ROLE $TRANSMITTER_WALLET_ADDRESS \
                  --rpc-url $RPC_URL_ARBITRUM_SEPOLIA \
                  --private-key $PRIVATE_KEY
            ```
         1.  (Optional) Verify your contract on Arbiscan:
            ```sh
            forge verify-contract \
                  --chain-id 421614 \
                  --verifier etherscan \
                  --verifier-url "https://api-sepolia.arbiscan.io/api" \
                  <DEPLOYED_FEED_ADDRESS> \
                  src/feed/DataStreamsFeed.sol:DataStreamsFeed \
                  --flatten \
                  --etherscan-api-key <YOUR_ARBISCAN_API_KEY>
            ```

      </Fragment>

  </TabsContent>
</Accordion>

<Accordion title="Set Up Transmitter" number={2}>
With a consumer contract on-chain, you can now set up the Transmitter service to relay data to it.

1.  In a new terminal window, navigate to your development space and clone the [Data Stream Transmitter repository][GITHUB_REPO]:
    ```bash
    git clone https://github.com/hackbg/chainlink-datastreams-transmitter.git
    cd transmitter-app
    ```
1.  Install the project dependencies using `npm`:

    ```bash
    npm install
    ```

1.  Copy the example environment file:
    ```bash
    cp .env.example .env
    ```
1.  Open your `.env` file in a text editor and provide the required values:
    | Variable | Description |
    | :-------------------------- | :------------------------------------------------------------------------------------ |
    | `PRIVATE_KEY` | The private key of your developer wallet (ensure this is kept secure and not shared). |
    | `DATASTREAMS_CLIENT_ID` | Your Data Streams client ID. |
    | `DATASTREAMS_CLIENT_SECRET` | Your Data Streams client secret. |

         <Aside type="danger" title="Configuration Warning">

    **These configuration files reference sensitive information**.

            The `.env` file references your Data Streams API credentials and your wallet's private key. It is your responsibility to ensure that you provide these values in a way that you or your organization deems secure.

         </Aside>

1.  Create the runtime configuration file by copying the example:
    ```bash
    cp config-chainlink-example.yml config.yml
    ```
1.  Open `config.yml` in a text editor. Update the `targetChains` section to point to the contract you deployed on **Arbitrum Sepolia**.

    ```yaml
    # --- Feeds (off-chain subscriptions) ----------------------------
    feeds:
      - name: "ETH/USD"
        feedId: "0x000359843a543ee2fe414dc14c7e7920ef10f4372990b79d6361cdc0dd1ba782"

    # --- Defaults ---------------------------------------------------
    chainId: 421614 # Default target chain is Arbitrum Sepolia
    gasCap: "150000"
    interval: "*/30 * * * * *" # Every 30 seconds
    priceDeltaPercentage: 0.01 # 0.01 %

    # --- RPC & Currency metadata -----------------------------------
    chains:
      # Arbitrum Sepolia
      - id: 421614
        name: "Arbitrum Sepolia"
        rpc: "https://sepolia-rollup.arbitrum.io/rpc"
        # ... other chain details

    # --- Data-Streams Verifier addresses ----------------------------
    verifierAddresses:
      - chainId: 421614 # Arbitrum Sepolia
        address: "0x2ff010DEbC1297f19579B4246cad07bd24F2488A"

    # --- Target contracts (on-chain writes) -------------------------
    targetChains:
      - chainId: 421614 # Arbitrum Sepolia
        targetContracts:
          - feedId: "0x000359843a543ee2fe414dc14c7e7920ef10f4372990b79d6361cdc0dd1ba782"
            # PASTE YOUR DEPLOYED CONTRACT ADDRESS HERE
            address: "0xYOUR_ARBITRUM_SEPOLIA_CONTRACT_ADDRESS"
            functionName: updateReport
            functionArgs: [reportVersion, verifiedReport]
            abi:
              - inputs:
                  [
                    { internalType: uint16, name: reportVersion, type: uint16 },
                    { internalType: bytes, name: verifiedReportData, type: bytes },
                  ]
                name: updateReport
                outputs: []
                stateMutability: nonpayable
                type: function
    ```

1.  Start the Docker daemon.

    The Docker daemon is required to run the Redis instance that Transmitter uses. Starting the daemon depends on your operating system. Please refer to the [Docker documentation](https://docs.docker.com/engine/daemon/start/) for instructions.

1.  Run the following command to start the Transmitter and its services in the background:
    ```bash
    docker compose up -d
    ```
1.  Open your web browser and navigate to `http://localhost:3000` to access the Transmitter UI. Because you pre-configured the contract in `config.yml`, the `ETH/USD` stream on the dashboard should show a `Running` status.

<Aside type="tip" title="Troubleshooting">
  If you experience any crashes or issues, see the [Troubleshooting](#troubleshooting) section at the end of this guide
  for common problems and solutions.
</Aside>
</Accordion>

---

## UI Overview

The Transmitter UI lets you manage your feeds, monitor their status, and define how and where data is pushed on-chain. Although we configured the basics in `config.yml`, you can manage the service from this dashboard.

<ClickToZoom src="/images/quickstarts/transmitter/transmitter_home.png" alt="The Transmitter home page" />

The optional sections below provide a detailed overview of the Transmitter UI, explaining each section and its purpose.

<Accordion title="Chain" >

On the upper-right corner of the page you will find the **Chain** section. Since the default chain is configured to `Arbitrum Sepolia`, you should see that network listed along with details for your wallet.

| Field                    | Description                                                                          |
| :----------------------- | :----------------------------------------------------------------------------------- |
| **Current Chain**        | The current chain, which is where data will be pushed.                               |
| **Chain ID**             | The unique numeric identifier for the current chain.                                 |
| **Wallet Address**       | Your unique wallet address.                                                          |
| **Native Token Balance** | Your native token balance, which is used to pay for on-chain transaction fees (gas). |
| **LINK Balance**         | Your `LINK` token balance, used to pay for Chainlink Data Streams transactions.      |

Your balance should reflect the amount of testnet LINK and ETH you have in your wallet. If you need more, you can use the [Chainlink Faucet](https://faucets.chain.link/).

</Accordion>

<Accordion title="Logs">

On the top-right corner of the page, you will find the **Logs** section, which contains details for all Transmitter actions. When operating correctly, the log should reflect a clear, step-by-step process for each on-chain update.

Example log output:

```
[2025-07-01 16:48:44] info: ü©∫ Health check endpoint running at http://localhost:8081/ready
[2025-07-01 16:48:44] info: üöÄ running at http://localhost:3000
[2025-07-01 16:48:44] warn: ‚ÑπÔ∏è App already configured
[2025-07-01 16:48:44] info: üèÅ Streams have been started
[2025-07-01 16:50:00] info: üö® Price deviation detected | ETH/USD: 3450.06$ | üìâ -0.2135% (-7.36$)
[2025-07-01 16:50:00] info: üìÜ Scheduled for writing onchain
[2025-07-01 16:50:00] info: ‚õΩÔ∏è Estimated fee: 0.024395523392104215 LINK
[2025-07-01 16:50:04] info: ‚úÖ Report verified
[2025-07-01 16:50:06] info: üìù Prepared verification transaction
[2025-07-01 16:50:07] info: ‚åõÔ∏è Sending transaction 0xa59aa3e9c7a2cd020d79bd73e6c7f1aca9a576b77edb43ee35180001709fdf43
[2025-07-01 16:50:08] info: ‚ÑπÔ∏è Transaction status: success
[2025-07-01 16:50:08] info: üíæ Price stored | ETH/USD: 3450.06$
```

</Accordion>

<Accordion title="Data Streams" >

The **Data Streams** section lists all Data Streams, their status, and any related contracts. You should see the `ETH/USD` feed listed here, which was set in the `config.yml` file.

| Field             | Description                                                                                                                                         |
| :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Stream**        | The name of the stream. This is the name set by the user for easier tracking and feed identification.                                               |
| **Feed ID**       | The feed ID. Check [Chainlink Data Streams Documentation](/data-streams/crypto-streams) for a list of supported streams.                            |
| **Contract**      | Target contract for the feed on the current chain. Click to open a configuration page where you can define the target contract, functions, and ABI. |
| **Saved price**   | The latest price recorded onchain.                                                                                                                  |
| **Last reported** | The latest price reported by the stream.                                                                                                            |
| **Status**        | Current status of the stream. Possible states include: `Running`, `Connecting`, `Stopping` or `Stopped`.                                            |
| **Remove**        | Click to remove the stream.                                                                                                                         |

</Accordion>

<Accordion title="Schedule" >

The **Schedule** section allows you to define how often the Transmitter should push data on-chain, using a cron expression. We have already defined this in the `config.yml` file, but you can change it here.

</Accordion>

<Accordion title="Verifier Contracts" >

The **Verifier Contracts** section lets you specify contracts that will verify the data being pushed on chain. The verifier contract for your current network will be automatically selected based on `config.yml`.

</Accordion>

<Accordion title="Price Delta" >

The **Price Delta** section lets you define the price change threshold that will trigger an on-chain update. We set this in the `config.yml` file, but you can change this value here.

</Accordion>

<Accordion title="Gas Cap" >

The **Gas Cap** section lets you set the maximum gas limit for transactions. We set this in the `config.yml` file, but you can change it here.

</Accordion>

---

## Troubleshooting

If you run into issues during setup or operation, refer to these common problems and their solutions.

---

### Transmitter Service Issues

- **Service fails to start or crashes immediately**

  - Double-check that your `transmitter-app/.env` file is present and correctly populated with your `PRIVATE_KEY` and Data Streams credentials.
  - Run `docker compose logs -f` in the `transmitter-app` directory to view real-time logs and identify specific error messages.

- **Data is not updating on your contract**
  - Review the logs in Transmitter for specific error messages related to the feed or contract interaction.
  - **Authentication:** Verify that your `DATASTREAMS_CLIENT_ID` and `DATASTREAMS_CLIENT_SECRET` are correct and do not have extra spaces or characters.
  - **LINK Balance:** Ensure the transmitter's wallet has a sufficient `LINK` balance to pay for on-chain verification fees. Top up at a [faucet](https://faucets.chain.link/) if needed.
  - **RPC Endpoint:** Confirm the RPC URL in your `config.yml` is correct and the node is reachable.

---

### Contract Deployment & On-Chain Errors

- **`Gas estimation too high` error**

  - When deploying with Foundry, you can adjust the `gas_limit` in your `foundry.toml` file.
  - For the transmitter, you can increase the `gasCap` value in your `config.yml` file.

- **Transactions failing with a `REPORT_VERIFIER missing` error**

  - This error means the wallet address used by the transmitter has not been granted the `REPORT_VERIFIER_ROLE` on your deployed contract.
  - Make sure you've granted the role to the correct address.

- **Missing private key**
  - `forge script` will silently fall back to Foundry's default dev key and assign contract roles to `0x1804c8AB1F12E6bbf3894d4083f33e07309d1f38`.
  - Always pass your key via `--private-key` or export it in `.env/shell`.

---

## Conclusion

Congratulations! üéâ You have successfully deployed a `DataStreamsFeed` contract, set up the Data Streams Transmitter, and linked them together.

You can now monitor off-chain data streams and push updates to your smart contracts without writing any code or managing your own backend infrastructure. The Transmitter handles all the complexity of connecting to Data Streams, monitoring data changes, and pushing updates on-chain.

For more advanced usage, troubleshooting, or to contribute, visit the [GitHub repository][GITHUB_REPO] or check out the [official Data Streams documentation](/data-streams/index).

Happy building!
