---
section: chainlinkLocal
date: Last Modified
title: "Using CCIP local simulator in RemixIDE"
isIndex: false
---

import Common from "@features/chainlink-local/Common.astro"
import { Aside, CodeSample, ClickToZoom, CopyText } from "@components"

<Common callout="importPackage" />

In this guide, you will test the [Chainlink CCIP getting started guide](/ccip/getting-started) locally in RemixIDE. You will deploy a CCIP sender contract and a CCIP receiver contract, and interact with the local simulator to send data from the sender contract to the receiver contract.

## Prerequisites

[RemixIDE](https://remix.ethereum.org/) is an online development environment that allows you to write, deploy, and test smart contracts. By default RemixIDE does not persist the files that you open from an external source. To save file you will need to manually create a workspace and copy the files into the workspace.

1. Open the [RemixIDE](https://remix.ethereum.org/) in your browser.
1. Create a [new workspace](https://remix-ide.readthedocs.io/en/latest/file_explorer.html#new-workspace).
1. Copy the content of the [Test CCIP Local Simulator contract](https://docs.chain.link/samples/CCIP/TestCCIPLocalSimulator.sol) into a new file in the workspace.

   <CodeSample src="samples/CCIP/TestCCIPLocalSimulator.sol" />

1. Copy the content of the [Sender contract](https://docs.chain.link/samples/CCIP/Sender.sol) into a new file in the workspace.

   <CodeSample src="samples/CCIP/Sender.sol" />

1. Copy the content of the [Receiver contract](https://docs.chain.link/samples/CCIP/Receiver.sol) into a new file in the workspace.

   <CodeSample src="samples/CCIP/Receiver.sol" />

At this point, you should have three files in your workspace:

      - **TestCCIPLocalSimulator.sol**: The file imports the Chainlink CCIP local simulator contract.

      - **Sender.sol**: The file contains the Sender contract that interacts with CCIP to send data to the Receiver contract.

      - **Receiver.sol**: The file contains the Receiver contract that receives data from the Sender contract.

## Deploy the contracts

1.  Compile the contracts.
1.  Under the **Deploy & Run Transactions** tab, make sure _Remix VM_ in the **Environment** list is selected. Remix will use a sandbox blockchain in the browser to deploy the contracts.
1.  Deploy the [CCIP local simulator](/chainlink-local/api-reference/solidity/ccip/cciplocalsimulator#cciplocalsimulator):

    1. Select the `TestCCIPLocalSimulator.sol` file in the file explorer.
    1. In the _Contract_ list, select `CCIPLocalSimulator`.
    1. Click the **Deploy** button.
    1. The `CCIPLocalSimulator` is shown in the **Deployed Contracts** section.
    1. In the list of functions, click on [`configuration`](/chainlink-local/api-reference/solidity/ccip/cciplocalsimulator#configuration) function to retrieve the configuration details for the pre-deployed contracts and services needed for local CCIP simulations

       <ClickToZoom
         src="/images/chainlink-local/ccip/remix/cciplocalsimulator-configuration.jpg"
         alt="RemixIDE CCIP Local Simulator configuration"
       />

1.  You will interact with the LINK token contract to fund the sender contract with LINK tokens. The LINK token contract is pre-deployed in the local simulator configuration. Hence, load the LINK token contract instance:

    1.  Select `LinkToken` in the _Contract_ list.
    1.  Fill in _At Address_ with the address of the `LINK` token contract from the `CCIPLocalSimulator` configuration.
    1.  Click on the **At Address** button.
    1.  The `LinkToken` contract is shown in the **Deployed Contracts** section.

1.  Deploy the `Sender.sol` contract:

    1.  Select the `Sender.sol` file in the file explorer.
    1.  In the _Contract_ list, select `Sender`.
    1.  Under the _Deploy_ section, fill in the constructor parameters:
        - `_router`: The address of the `sourceRouter` contract from the `CCIPLocalSimulator` configuration.
        - `_link`: The address of the `LINK` token contract from the `CCIPLocalSimulator` configuration.
    1.  Click the **Deploy** button.
    1.  The `Sender` contract is shown in the **Deployed Contracts** section.

1.  Deploy the `Receiver.sol` contract:

    1.  Select the `Receiver.sol` file in the file explorer.
    1.  In the _Contract_ list, select `Receiver`.
    1.  Under the _Deploy_ section, fill in the constructor parameters:
        - `_router`: The address of the `destinationRouter` contract from the `CCIPLocalSimulator` configuration.
    1.  Click the **Deploy** button.
    1.  The `Receiver` contract is shown in the **Deployed Contracts** section.

## Transfer data from the sender to the receiver

1. Fund the sender contract with LINK tokens to pay for CCIP fees:

   1. Copy the address of the `Sender` contract from the **Deployed Contracts** section.
   1. In the `CCIPLocalSimulator` contract, fill in the [`requestLINKFromFaucet`](/chainlink-local/api-reference/solidity/ccip/cciplocalsimulator#requestlinkfromfaucet) function with:
      - `to`: The address of the `Sender` contract.
      - `amount`: The amount of LINK tokens to transfer. For instance <CopyText text="1000000000000000000" code/>.
   1. Click the **Transact** button.

1. Send data from the sender contract to the receiver contract:

   1. Copy the address of the `Receiver` contract from the **Deployed Contracts** section.
   1. In the `Sender` contract, fill in the `sendMessage` function with:

      - `destinationChainSelector`: The destination chain selector. You can find it in the `CCIPLocalSimulator` configuration.
      - `receiver`: The address of the `Receiver` contract.
      - `text`: The text to send. For instance <CopyText text="Hello!" code/>.

   1. RemixIDE fails to estimate the gas properly for the `sendMessage` function. Hence, you need to manually set the gas limit to <CopyText text="3000000" code/>.

      <ClickToZoom
        src="/images/chainlink-local/ccip/remix/sendMessage-estimateGas.jpg"
        alt="RemixIDE CCIP Local sendMessage force gas limit"
      />

   1. Click the **Transact** button.

1. Check the receiver contract to verify the data transfer:

   1. In the `Receiver` contract, click on the `getLastReceivedMessageDetails` function.
   1. The `getLastReceivedMessageDetails` function returns the text sent from the `Sender` contract.

      <ClickToZoom
        src="/images/chainlink-local/ccip/remix/receivedMessage.jpg"
        alt="RemixIDE CCIP Local receivedMessage"
      />

## Next steps

You have successfully tested the CCIP getting started guide within few minutes using RemixIDE. Testing locally is useful to debug your contracts and fix any issues before testing them on testnets, saving you time and resources.
As an exercise, you can try any of the [CCIP guides](/ccip/tutorials) using the local simulator in RemixIDE.
