---
section: ccip
date: Last Modified
title: "Using the CCIP JavaScript SDK"
---

import { TabsContent } from "@components/Tabs"

The CCIP JavaScript SDK is a tool that helps you to simplify management of cross-chain token transfers, and to integrate CCIP with the frontend of your own app. This SDK is backwards-compatible to CCIP v1.2.

The CCIP JavaScript SDK includes two packages:

- [`ccip-js`](/packages/ccip-js/README.md): A TypeScript library that provides a client for managing cross-chain token transfers that use CCIP routers. This package allows you to manage the steps you need to prepare before sending a CCIP message, as well as checking the transfer status afterward.
- [`ccip-react-components`](/packages/ccip-react-components/README.md): A set of prebuilt ready-to-use UI components built on top of `ccip-js`. This package includes the following features:
  - Customize injected wallet providers (MetaMask and Coinbase Wallet)
  - Specify preselected chains and tokens that will display as defaults when the component loads
  - Customize the UI theme
  - Configure allowlists and deny lists for which chains can be used, and which chains can be used as a sources or destinations for cross-chain transfers

Using both packages together, you can add a fully featured CCIP bridge to your app that can be styled to match your app design.

You can also use the `ccip-js` package on its own. The features of the CCIP-JS package include:

- _Token approvals_: Approve tokens for cross-chain transfers.
- _Allowance checks_: Retrieve the allowance for token transfers.
- _Rate limits_: Get rate refill limits for lanes.
- _Fee calculation_: Calculate the fee required for transfers.
- _Token transfers_: Transfer tokens across chains.
- _Transfer status_: Retrieve the status of a transfer by transaction hash.

## Installation

<Aside type="caution" title="Security Warning: Handle Error Messages with Care">
  **Important**: Error messages generated by this SDK are **not escaped**. If your application uses user inputs that may end up in error messages, it is your responsibility to **escape or sanitize these messages** before displaying them to users.

Failure to escape or sanitize error messages could expose your application to **Cross-Site Scripting (XSS)** vulnerabilities, especially when user-generated content is included in error handling logic.

</Aside>

1. [Install `pnpm`](https://pnpm.io/installation).

1. Clone the `ccip-frontend-sdk` repo and navigate to the root directory of the `ccip-frontend-sdk` project:

   ```sh
   git clone https://github.com/smartcontractkit/ccip-frontend-sdk.git && cd ccip-frontend-sdk
   ```

1. Run the following command from the project root:

   ```sh
   pnpm install
   ```

The `./pnpm-workspace.yaml` file specifies all the packages in this repo, and the install command installs dependencies for each of the listed packages. After installing, proceed to the instructions for [building the packages](#build-packages).

Alternatively, you can install the SDK, build both packages, and run an example app using the following command:

    ```sh
    pnpm install
    pnpm build
    pnpm dev-example
    ```

## Build packages

{/* prettier-ignore */}
<TabsContent sharedStore="buildOption" client:visible>
<Fragment slot="tab.1">Build packages together</Fragment>
<Fragment slot="tab.2">Build packages individually</Fragment>
<Fragment slot="panel.1">
To build both packages together, run the following command:

```sh
pnpm build
```

</Fragment>
<Fragment slot="panel.2">
If you're building each package individually, make sure to build the `build-ccip-js` package before you build the `ccip-react-components` package. The React components depend on the JS package.

1.  Build the `build-ccip-js` package:

    ```sh
    pnpm i -w
    pnpm build-ccip-js
    ```

1.  Build the `ccip-react-components` package:

            ```sh
            pnpm build-components
            ```

    </Fragment>
</TabsContent>

## Run a basic UI example app

The UI example app configures a basic token list with CCIP-BnM and CCIP-LnM test tokens, and lists the testnets you want to use with each one. This example app also includes a basic frontend configuration.

To run this example app, use the following command:

```sh
pnpm dev-example
```

Review the reference documentation:

- Listing tokens in [`tokensList`](https://github.com/smartcontractkit/ccip-frontend-sdk/tree/main/packages/ccip-react-components#tokens)
- Configuring the frontend components in [`Config`](https://github.com/smartcontractkit/ccip-frontend-sdk/tree/main/packages/ccip-react-components#config)

### Review the code

Review the code for the example app below:

```solidity
import 'ccip-react-components/dist/style.css';
import { CCIPWidget, Config, Token } from 'ccip-react-components';
import { sepolia, optimismSepolia } from 'viem/chains';

const tokensList: Token[] = [
  {
    symbol: 'CCIP-BnM',
    address: {
        [arbitrumSepolia.id]:'0xA8C0c11bf64AF62CDCA6f93D3769B88BdD7cb93D',
        [avalancheFuji.id]: '0xD21341536c5cF5EB1bcb58f6723cE26e8D8E90e4',
        [baseSepolia.id]: '0x88A2d74F47a237a62e7A51cdDa67270CE381555e',
        [bscTestnet.id]: '0xbFA2ACd33ED6EEc0ed3Cc06bF1ac38d22b36B9e9',
        [optimismSepolia.id]: '0x8aF4204e30565DF93352fE8E1De78925F6664dA7',
        [polygonAmoy.id]: '0xcab0EF91Bee323d1A617c0a027eE753aFd6997E4',
        [sepolia.id]: '0xFd57b4ddBf88a4e07fF4e34C487b99af2Fe82a05'
    },
    logoURL: 'https://smartcontract.imgix.net/tokens/ccip-bnm.webp?auto=compress%2Cformat',
    tags: ['chainlink', 'default']
  },
  {
    symbol: 'CCIP-LnM',
    address: {
      [optimismSepolia.id]: '0x044a6B4b561af69D2319A2f4be5Ec327a6975D0a',
      [sepolia.id]: '0x466D489b6d36E7E3b824ef491C225F5830E81cC1'
    },
    logoURL: 'https://smartcontract.imgix.net/tokens/ccip-lnm.webp?auto=compress%2Cformat',
    tags: ['chainlink', 'default']
  }
];

const config: Config = {
    theme: {
        pallette: {
            background: '#FFFFFF',
            border: '#B3B7C0',
            text: '#000000',
        }
        shape: {
            radius: 6
        },
    }
};

<CCIPWidget config={config} tokensList={tokensList} />;
```

## Run a CCIP-JS example app

This example app covers the following steps:

- Initialize CCIP-JS Client for mainnet
- Approve tokens for transfer
- Get fee for the transfer
- Send the transfer through CCIP using one of the following options for fee payment:
  - Using the native token fee
  - Using the provided supported token for fee payment

Review the [SDK reference documentation](https://github.com/smartcontractkit/ccip-frontend-sdk/tree/main/packages/ccip-js#api-reference) for `ccip-js`.

### Review the code

```solidity
import * as CCIP from '@chainlink/ccip-js'
import { createWalletClient, custom } from 'viem'
import { mainnet } from 'viem/chains'

// Initialize CCIP-JS Client for mainnet
const ccipClient = CCIP.createClient()
const publicClient = createPublicClient({
  chain: mainnet,
  transport: http(),
})
const walletClient = createWalletClient({
  chain: mainnet,
  transport: custom(window.ethereum!),
})

// Approve Router to transfer tokens on user's behalf
const { txHash, txReceipt } = await ccipClient.approveRouter({
  client: walletClient,
  routerAddress: '0xabcdefabcdefabcdefabcdefabcdefabcdefabcdef',
  tokenAddress: '0xabcdefabcdefabcdefabcdefabcdefabcdefabcdef',
  amount: 1000000000000000000n,
  waitForReceipt: true,
})

console.log(`Transfer approved. Transaction hash: ${txHash}. Transaction receipt: ${txReceipt}`)

// Get fee for the transfer
const fee = await ccipClient.getFee({
  client: publicClient,
  routerAddress: '0xabcdefabcdefabcdefabcdefabcdefabcdefabcdef',
  tokenAddress: '0xabcdefabcdefabcdefabcdefabcdefabcdefabcdef',
  amount: 1000000000000000000n,
  destinationAccount: '0x1234567890abcdef1234567890abcdef12345678',
  destinationChainSelector: '1234',
})

console.log(`Fee: ${fee.toLocaleString()}`)

// Variant 1: Transfer via CCIP using native token fee
const { txHash, messageId } = await client.transferTokens({
  client: walletClient,
  routerAddress: '0xabcdefabcdefabcdefabcdefabcdefabcdefabcdef',
  tokenAddress: '0xabcdefabcdefabcdefabcdefabcdefabcdefabcdef',
  amount: 1000000000000000000n,
  destinationAccount: '0x1234567890abcdef1234567890abcdef12345678',
  destinationChainSelector: '1234',
})

console.log(`Transfer success. Transaction hash: ${txHash}. Message ID: ${messageId}`)

// Variant 2: Transfer via CCIP using the provided supported token for fee payment
const { txHash, messageId } = await client.transferTokens({
  client: walletClient,
  routerAddress: '0xabcdefabcdefabcdefabcdefabcdefabcdefabcdef',
  tokenAddress: '0xabcdefabcdefabcdefabcdefabcdefabcdefabcdef',
  amount: 1000000000000000000n,
  destinationAccount: '0x1234567890abcdef1234567890abcdef12345678',
  destinationChainSelector: '1234',
  feeTokenAddress: '0xabcdefabcdefabcdefabcdefabcdefabcdefabcdef',
})
```
