---
section: ccip
date: Last Modified
title: "Enable your tokens in CCIP (Lock & Mint): Register from an EOA using Hardhat"
---

import { Aside, PageTabs } from "@components"
import CcipCommon from "@features/ccip/CcipCommon.astro"

<CcipCommon callout="selfServeCallout" />

<PageTabs
  pages={[
    {
      name: "Hardhat (Lock & Mint)",
      url: "/ccip/tutorials/ccip-enabled-tokens/register-from-eoa-lock-mint-hardhat",
      icon: "/images/tutorial-icons/hardhat-icn.png",
      width: "270px",
    },
    {
      name: "Foundry (Lock & Mint)",
      url: "/ccip/tutorials/ccip-enabled-tokens/register-from-eoa-lock-mint-foundry",
      icon: "/images/tutorial-icons/foundry-icn.png",
      width: "270px",
    },
  ]}
/>

This tutorial will guide you through the process of enabling your own tokens in CCIP using [Hardhat](https://hardhat.org/). You will learn how to deploy tokens, deploy burn and mint token pools, register them in CCIP, and configure them without needing direct intervention from Chainlink Labs.

<CcipCommon callout="registerFromEOAIntro" />

## Before You Begin

1.  **Install Node.js 18**:  
    [Download Node.js 18](https://nodejs.org/en/download/) if you don't have it installed. Optionally, you can use the [nvm package](https://www.npmjs.com/package/nvm) to switch between Node.js versions:

    ```bash
    nvm use 18
    ```

    Verify that the correct version of Node.js is installed:

    ```bash
    node -v
    ```

    Example output:

    ```bash
    $ node -v
    v18.7.0
    ```

1.  **Clone the repository and navigate to the project directory:**

    ```bash
    git clone https://github.com/smartcontractkit/ccip-self-serve-tokens-poc.git
    cd ccip-self-serve-tokens-poc
    ```

1.  **Install dependencies for the project:**

    ```bash
    npm install
    ```

1.  **Compile the project:**

    ```bash
    npm run compile
    ```

1.  **Encrypt your environment variables for higher security:**  
    The project uses [@chainlink/env-enc](https://www.npmjs.com/package/@chainlink/env-enc) to encrypt your environment variables at rest. Follow the steps below to configure your environment securely:

    1. Set an encryption password for your environment variables:

       ```bash
       npx env-enc set-pw
       ```

    1. Set up a `.env.enc` file with the necessary variables for Avalanche Fuji and Ethereum Sepolia testnets. Use the following command to add the variables:

       ```bash
       npx env-enc set
       ```

       Variables to configure:

       - `AVALANCHE_FUJI_RPC_URL`: A URL for the _Avalanche Fuji_ testnet. You can get a personal endpoint from services like [Alchemy](https://www.alchemy.com/) or [Infura](https://www.infura.io/).
       - `ETHEREUM_SEPOLIA_RPC_URL`: A URL for the _Ethereum Sepolia_ testnet. You can sign up for a personal endpoint from [Alchemy](https://www.alchemy.com/) or [Infura](https://www.infura.io/).
       - `PRIVATE_KEY`: The private key for your testnet wallet. If you use MetaMask, you can follow this [guide](https://support.metamask.io/managing-my-wallet/secret-recovery-phrase-and-private-keys/how-to-export-an-accounts-private-key/) to export your private key. **Note:** This key is required for signing transactions like token transfers.
       - `ETHERSCAN_API_KEY`: An API key from Etherscan to verify your contracts. You can obtain one from [Etherscan](https://docs.etherscan.io/getting-started/viewing-api-usage-statistics).

1.  **Fund your EOA with LINK and native gas tokens**:  
    Make sure your EOA has enough LINK and native gas tokens on Avalanche Fuji to cover transaction fees. You can use the [Chainlink faucets](https://faucets.chain.link/) to get testnet tokens.

## Tutorial

<Aside type="note" title="Explore the Code">
  All Hardhat tasks used in this tutorial are located in the `tasks/` directory of the repository. Each task is
  thoroughly commented and directly linked to a key step in the tutorial, making the code self-explanatory. Read the
  code and comments to gain a deeper understanding of the process or explore the implementation details.
</Aside>

### Deploy Tokens

In this step, you will use the `deployToken.ts` task to deploy tokens on two testnets, Avalanche Fuji and Ethereum Sepolia. Below is an explanation of the parameters used during deployment:

| Parameter          | Description                                                                                                                                                                                               | Default | Required |
| ------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | -------- |
| `name`             | The name of the token. This is the full name by which the token will be identified.                                                                                                                       | N/A     | Yes      |
| `symbol`           | The symbol of the token. This is the shorthand (usually 3-5 letters) representing the token.                                                                                                              | N/A     | Yes      |
| `decimals`         | The number of decimals the token will use. For instance, `18` decimals means 1 token is represented as `1e18` smallest units.                                                                             | `18`    | No       |
| `initialsupply`    | The initial supply of tokens to be created upon deployment. Use `0` to start with no initial supply.                                                                                                      | `0`     | No       |
| `withgetccipadmin` | A flag to determine whether the token contract has a `getCCIPAdmin()` function. If set to `true`, a CCIP admin is required. When `false`, token admin registration will use the token `owner()` function. | `false` | No       |
| `ccipadminaddress` | The address of the CCIP admin, only applicable if `withgetccipadmin` is set to `true`.                                                                                                                    | N/A     | No       |
| `verifycontract`   | Whether to verify the contract on Etherscan or a similar blockchain explorer.                                                                                                                             | `false` | No       |
| `network`          | The blockchain on which the token will be deployed. Examples include `avalancheFuji`, `baseSepolia`, and `sepolia`.                                                                                       | N/A     | Yes      |

Deploy tokens, use the following commands, substituting the token name and symbol as needed:

1. **Deploy the token on Avalanche Fuji:**

   ```bash
   npx hardhat deployToken --name "BnM aem" --symbol BnMaem --decimals 18 --initialsupply 0 --withgetccipadmin false --verifycontract true --network avalancheFuji
   ```

   Example output:

   ```bash
   $ npx hardhat deployToken --name "BnM aem" --symbol BnMaem --decimals 18 --initialsupply 0 --withgetccipadmin false --verifycontract true --network avalancheFuji

   2024-09-17T08:58:29.788Z info: Deploying BurnMintERC677 contract to avalancheFuji
   2024-09-17T08:58:29.789Z info: Waiting 2 blocks for transaction 0x714b16cea6c8628d37fbb81fbc81621e08247af42bbc80ee483d9aa60f877b3a to be confirmed...
   2024-09-17T08:58:32.071Z info: Token deployed to: 0x003b9551d637C4Dd2630e6FF09474560948ab938
   2024-09-17T08:58:32.177Z info: Granting mint and burn roles to 0x9d087fC03ae39b088326b67fA3C788236645b717
   2024-09-17T08:58:41.457Z info: Verifying contract on Etherscan...
   The contract 0x003b9551d637C4Dd2630e6FF09474560948ab938 has already been verified on the block explorer. If you're trying to verify a partially verified contract, please use the --force flag.
   https://testnet.snowtrace.io/address/0x003b9551d637C4Dd2630e6FF09474560948ab938#code

   2024-09-17T08:58:42.676Z info: Token contract deployed and verified
   ```

1. **Deploy the token on Ethereum Sepolia:**

   ```bash
   npx hardhat deployToken --name "BnM aem" --symbol BnMaem --decimals 18 --initialsupply 0 --withgetccipadmin false --verifycontract true --network sepolia
   ```

   Example output:

   ```bash
   $ npx hardhat deployToken --name "BnM aem" --symbol BnMaem --decimals 18 --initialsupply 0 --withgetccipadmin false --verifycontract true --network sepolia
   2024-09-17T09:00:00.721Z info: Deploying BurnMintERC677 contract to sepolia
   2024-09-17T09:00:00.722Z info: Waiting 2 blocks for transaction 0x862fa1b28b96f9a502c02db22c04be4d5e920fb149a07f522a74837a8a8645bf to be confirmed...
   2024-09-17T09:00:25.259Z info: Token deployed to: 0xECd1eF00aC12DC349a179957321E143F32ad8830
   2024-09-17T09:00:25.292Z info: Granting mint and burn roles to 0x9d087fC03ae39b088326b67fA3C788236645b717
   2024-09-17T09:01:01.687Z info: Verifying contract on Etherscan...
   The contract 0xECd1eF00aC12DC349a179957321E143F32ad8830 has already been verified on the block explorer. If you're trying to verify a partially verified contract, please use the --force flag.
   https://sepolia.etherscan.io/address/0xECd1eF00aC12DC349a179957321E143F32ad8830#code

   2024-09-17T09:01:02.402Z info: Token contract deployed and verified
   ```

### Deploy Token Pools

In this step, you will use the `deployTokenPool.ts` task to deploy token pools for the tokens on both testnets, Avalanche Fuji and Ethereum Sepolia. Below is an explanation of the parameters used during deployment:

| Parameter        | Description                                                                                                              | Default | Required |
| ---------------- | ------------------------------------------------------------------------------------------------------------------------ | ------- | -------- |
| `tokenaddress`   | The address of the token for which the pool is being created.                                                            | N/A     | Yes      |
| `verifycontract` | Whether to verify the contract on Etherscan or a similar blockchain explorer.                                            | `false` | No       |
| `network`        | The blockchain on which the token pool will be deployed. Examples include `avalancheFuji`, `baseSepolia`, and `sepolia`. | N/A     | Yes      |

Deploy token pools using the following commands, replacing the token address with the one deployed in the previous step:

1. **Deploy the burn and mint token pool on Avalanche Fuji:**

   ```bash
   npx hardhat deployTokenPool --tokenaddress 0x003b9551d637C4Dd2630e6FF09474560948ab938 --verifycontract true --network avalancheFuji
   ```

   Example output:

   ```bash
   $ npx hardhat deployTokenPool --tokenaddress 0x003b9551d637C4Dd2630e6FF09474560948ab938 --verifycontract true --network avalancheFuji

   2024-09-17T09:06:45.555Z info: Waiting 2 blocks for transaction 0x18ae2cfa9b4390500d430ec616ba6feaa5268c27e22da4425cf647bd996d3cdd to be confirmed...
   2024-09-17T09:06:48.171Z info: Token pool deployed to: 0xC933Ce153A775F0831c7c7cDC4FDEAEf6D51aF52
   2024-09-17T09:06:48.172Z info: Granting mint and burn roles to 0xC933Ce153A775F0831c7c7cDC4FDEAEf6D51aF52 on token 0x003b9551d637C4Dd2630e6FF09474560948ab938
   2024-09-17T09:06:57.032Z info: Verifying contract on Etherscan...
   The contract 0xC933Ce153A775F0831c7c7cDC4FDEAEf6D51aF52 has already been verified on the block explorer. If you're trying to verify a partially verified contract, please use the --force flag.
   https://testnet.snowtrace.io/address/0xC933Ce153A775F0831c7c7cDC4FDEAEf6D51aF52#code

   2024-09-17T09:06:58.440Z info: Token pool contract deployed and verified
   ```

1. **Deploy the burn and mint token pool on Ethereum Sepolia:**

   ```bash
   npx hardhat deployTokenPool --tokenaddress 0xECd1eF00aC12DC349a179957321E143F32ad8830 --verifycontract true --network sepolia
   ```

   Example output:

   ```bash
   $ npx hardhat deployTokenPool --tokenaddress 0xECd1eF00aC12DC349a179957321E143F32ad8830 --verifycontract true --network sepolia

   2024-09-17T09:08:07.865Z info: Waiting 2 blocks for transaction 0x0d5339fdbcfaa32c7313a543b6d86584873d9bb066951df0f7eee8340112fd15 to be confirmed...
   2024-09-17T09:08:38.291Z info: Token pool deployed to: 0xd54D9CeFdF38451f030E35973A7830A7A9C01d09
   2024-09-17T09:08:38.292Z info: Granting mint and burn roles to 0xd54D9CeFdF38451f030E35973A7830A7A9C01d09 on token 0xECd1eF00aC12DC349a179957321E143F32ad8830
   2024-09-17T09:09:02.136Z info: Verifying contract on Etherscan...
   The contract 0xd54D9CeFdF38451f030E35973A7830A7A9C01d09 has already been verified on the block explorer. If you're trying to verify a partially verified contract, please use the --force flag.
   https://sepolia.etherscan.io/address/0xd54D9CeFdF38451f030E35973A7830A7A9C01d09#code

   2024-09-17T09:09:02.571Z info: Token pool contract deployed and verified
   ```

### Claim Admin

In this step, you will use the `claimAdmin.ts` task to register your EOA as the administrator for the deployed tokens on both testnets, Avalanche Fuji and Ethereum Sepolia. This process involves calling the `RegistryModuleOwnerCustom` contract, which will fetch the token owner and set it up as the admin.

Below is an explanation of the parameters used during the admin claim process:

| Parameter       | Description                                                                                                                            | Default | Required |
| --------------- | -------------------------------------------------------------------------------------------------------------------------------------- | ------- | -------- |
| `tokenaddress`  | The address of the token for which the admin role is being claimed.                                                                    | N/A     | Yes      |
| `withccipadmin` | A flag indicating whether the token contract has a CCIP admin. If `false`, the token admin is registered using the `owner()` function. | `false` | No       |
| `network`       | The blockchain on which the claim admin process will be executed. Examples include `avalancheFuji`, `baseSepolia`, and `sepolia`.      | N/A     | Yes      |

Claim the admin role by using the following commands, replacing the token address with the one you deployed in the previous steps:

1. **Claim the admin role on Avalanche Fuji:**

   ```bash
   npx hardhat claimAdmin --tokenaddress 0x003b9551d637C4Dd2630e6FF09474560948ab938 --withccipadmin false --network avalancheFuji
   ```

   Example output:

   ```bash
   $ npx hardhat claimAdmin --tokenaddress 0x003b9551d637C4Dd2630e6FF09474560948ab938 --withccipadmin false --network avalancheFuji

   2024-09-17T09:13:40.235Z info: Current token owner: 0x9d087fC03ae39b088326b67fA3C788236645b717
   2024-09-17T09:13:40.236Z info: Claiming admin of 0x003b9551d637C4Dd2630e6FF09474560948ab938 via owner() for signer 0x9d087fC03ae39b088326b67fA3C788236645b717
   2024-09-17T09:13:44.977Z info: Claimed admin of 0x003b9551d637C4Dd2630e6FF09474560948ab938 tx: 0x4c199c593e4af4fbaaa47b48e98e46897bc97173b95dd3e6c94f24910fbf765e
   ```

1. **Claim the admin role on Ethereum Sepolia:**

   ```bash
   npx hardhat claimAdmin --tokenaddress 0xECd1eF00aC12DC349a179957321E143F32ad8830 --withccipadmin false --network sepolia
   ```

   Example output:

   ```bash
   $ npx hardhat claimAdmin --tokenaddress 0xECd1eF00aC12DC349a179957321E143F32ad8830 --withccipadmin false --network sepolia

   2024-09-17T09:14:48.982Z info: Current token owner: 0x9d087fC03ae39b088326b67fA3C788236645b717
   2024-09-17T09:14:48.983Z info: Claiming admin of 0xECd1eF00aC12DC349a179957321E143F32ad8830 via owner() for signer 0x9d087fC03ae39b088326b67fA3C788236645b717
   2024-09-17T09:15:27.017Z info: Claimed admin of 0xECd1eF00aC12DC349a179957321E143F32ad8830 tx: 0xc60e38c91850b03c3c8418ef190cdd65ef2a5318cfb0d9f0aeccfee7d4f1db42
   ```

### Accept Admin Role

In this step, you will use the `acceptAdminRole.ts` task to accept the admin role for the deployed tokens on both testnets, Avalanche Fuji and Ethereum Sepolia. Once you have claimed the role, accepting the role finalizes your control over the token administration.

Below is an explanation of the parameters used during the admin role acceptance process:

| Parameter      | Description                                                                                                                        | Default | Required |
| -------------- | ---------------------------------------------------------------------------------------------------------------------------------- | ------- | -------- |
| `tokenaddress` | The address of the token for which the admin role is being accepted.                                                               | N/A     | Yes      |
| `network`      | The blockchain on which the accept admin process will be executed. Examples include `avalancheFuji`, `baseSepolia`, and `sepolia`. | N/A     | Yes      |

Accept the admin role by using the following commands, replacing the token address with the one deployed in the previous steps:

1. **Accept the admin role on Avalanche Fuji:**

   ```bash
   npx hardhat acceptAdminRole --tokenaddress 0x003b9551d637C4Dd2630e6FF09474560948ab938 --network avalancheFuji
   ```

   Example output:

   ```bash
   $ npx hardhat acceptAdminRole --tokenaddress 0x003b9551d637C4Dd2630e6FF09474560948ab938 --network avalancheFuji

   2024-09-17T09:19:37.944Z info: Accepted admin role for token 0x003b9551d637C4Dd2630e6FF09474560948ab938 tx: 0xa1c7cbdba7516cd1dd41278ed8be28c291bed3225a8bd922e76ffa5b495a7faf
   ```

1. **Accept the admin role on Ethereum Sepolia:**

   ```bash
   npx hardhat acceptAdminRole --tokenaddress 0xECd1eF00aC12DC349a179957321E143F32ad8830 --network sepolia
   ```

   Example output:

   ```bash
   $ npx hardhat acceptAdminRole --tokenaddress 0xECd1eF00aC12DC349a179957321E143F32ad8830 --network sepolia

   2024-09-17T09:20:37.408Z info: Accepted admin role for token 0xECd1eF00aC12DC349a179957321E143F32ad8830 tx: 0x0d77f20a7ede6872c6c4affe8ea48ef4eddca2541f3367c31868d3d7c94b88d0
   ```

### Set Pool

In this step, you will use the `setPool.ts` task to link each token with its respective token pool on both testnets.

Below is an explanation of the parameters used during the pool setting process:

| Parameter      | Description                                                                                                                | Default | Required |
| -------------- | -------------------------------------------------------------------------------------------------------------------------- | ------- | -------- |
| `tokenaddress` | The address of the token to be linked to a pool.                                                                           | N/A     | Yes      |
| `pooladdress`  | The address of the pool associated with the token.                                                                         | N/A     | Yes      |
| `network`      | The blockchain on which the pool setting will be executed. Examples include `avalancheFuji`, `baseSepolia`, and `sepolia`. | N/A     | Yes      |

Link each token with its respective token pool by using the following commands, replacing the token and pool addresses with the ones you deployed in the previous steps:

1. **Set the pool for Avalanche Fuji:**

   ```bash
   npx hardhat setPool --tokenaddress 0x003b9551d637C4Dd2630e6FF09474560948ab938 --pooladdress 0xC933Ce153A775F0831c7c7cDC4FDEAEf6D51aF52 --network avalancheFuji
   ```

   Example output:

   ```bash
   $ npx hardhat setPool --tokenaddress 0x003b9551d637C4Dd2630e6FF09474560948ab938 --pooladdress 0xC933Ce153A775F0831c7c7cDC4FDEAEf6D51aF52 --network avalancheFuji

   2024-09-17T09:27:50.988Z info: Setting pool for token 0x003b9551d637C4Dd2630e6FF09474560948ab938 to 0xC933Ce153A775F0831c7c7cDC4FDEAEf6D51aF52 by 0x9d087fC03ae39b088326b67fA3C788236645b717
   2024-09-17T09:27:59.187Z info: Pool set for token 0x003b9551d637C4Dd2630e6FF09474560948ab938 to 0xC933Ce153A775F0831c7c7cDC4FDEAEf6D51aF52
   ```

1. **Set the pool for Ethereum Sepolia:**

   ```bash
   npx hardhat setPool --tokenaddress 0xECd1eF00aC12DC349a179957321E143F32ad8830 --pooladdress 0xd54D9CeFdF38451f030E35973A7830A7A9C01d09 --network sepolia
   ```

   Example output:

   ```bash
   $ npx hardhat setPool --tokenaddress 0xECd1eF00aC12DC349a179957321E143F32ad8830 --pooladdress 0xd54D9CeFdF38451f030E35973A7830A7A9C01d09 --network sepolia

   2024-09-17T09:28:39.957Z info: Setting pool for token 0xECd1eF00aC12DC349a179957321E143F32ad8830 to 0xd54D9CeFdF38451f030E35973A7830A7A9C01d09 by 0x9d087fC03ae39b088326b67fA3C788236645b717
   2024-09-17T09:29:00.888Z info: Pool set for token 0xECd1eF00aC12DC349a179957321E143F32ad8830 to 0xd54D9CeFdF38451f030E35973A7830A7A9C01d09
   ```

### Configure Pool

In this step, you will use `the configurePool.ts` task to configure the token pools on each blockchain to enable cross-chain transfers between Avalanche Fuji and Ethereum Sepolia. This involves linking the token pool on one blockchain to a corresponding pool on another blockchain, allowing cross-chain token transfers. You will interact with the `TokenPool` contract, specifically calling the `applyChainUpdates()` function to configure the cross-chain parameters and rate limits.

Below is an explanation of the parameters used during the pool configuration process:

| Parameter                   | Description                                                                                                                                                    | Default | Required |
| --------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | -------- |
| `pooladdress`               | The address of the token pool being configured.                                                                                                                | N/A     | Yes      |
| `remotechain`               | The remote blockchain to which this pool will be linked. Examples include `avalancheFuji`, `baseSepolia`, and `sepolia`.                                       | N/A     | Yes      |
| `remotepooladdress`         | The address of the token pool on the remote blockchain.                                                                                                        | N/A     | Yes      |
| `remotetokenaddress`        | The address of the token on the remote blockchain.                                                                                                             | N/A     | Yes      |
| `outboundratelimitenabled`  | A flag indicating whether to enable outbound rate limits for cross-chain transfers.                                                                            | `false` | No       |
| `outboundratelimitcapacity` | The maximum number of tokens allowed in the bucket for outbound transfers. **Note**: This parameter is applicable if you enable outbound rate limits.          | `0`     | No       |
| `outboundratelimitrate`     | The number of tokens per second that the bucket is refilled for outbound transfers. **Note**: This parameter is applicable if you enable outbound rate limits. | `0`     | No       |
| `inboundratelimitenabled`   | A flag indicating whether to enable inbound rate limits for cross-chain transfers.                                                                             | `false` | No       |
| `inboundratelimitcapacity`  | The maximum number of tokens allowed in the bucket for inbound transfers. **Note**: This parameter is applicable if you enable inbound rate limits.            | `0`     | No       |
| `inboundratelimitrate`      | The number of tokens per second that the bucket is refilled for inbound transfers. **Note**: This parameter is applicable if you enable inbound rate limits.   | `0`     | No       |

Configure the pools using the following commands, replacing the pool, token, and remote pool addresses with those you deployed in the previous steps:

1. **Configure the pool on Avalanche Fuji:**

   ```bash
   npx hardhat configurePool --pooladdress 0xC933Ce153A775F0831c7c7cDC4FDEAEf6D51aF52 --remotechain sepolia --remotetokenaddress 0xECd1eF00aC12DC349a179957321E143F32ad8830 --remotepooladdress 0xd54D9CeFdF38451f030E35973A7830A7A9C01d09 --network avalancheFuji
   ```

   Example output:

   ```bash
   $ npx hardhat configurePool --pooladdress 0xC933Ce153A775F0831c7c7cDC4FDEAEf6D51aF52 --remotechain sepolia --remotetokenaddress 0xECd1eF00aC12DC349a179957321E143F32ad8830 --remotepooladdress 0xd54D9CeFdF38451f030E35973A7830A7A9C01d09 --network avalancheFuji

   2024-09-17T09:37:20.010Z info: Applying chain update to pool at address: 0xC933Ce153A775F0831c7c7cDC4FDEAEf6D51aF52
   2024-09-17T09:37:32.941Z info: Chain update applied successfully
   ```

1. **Configure the pool on Ethereum Sepolia:**

   ```bash
   npx hardhat configurePool --pooladdress 0xd54D9CeFdF38451f030E35973A7830A7A9C01d09 --remotechain avalancheFuji --remotetokenaddress 0x003b9551d637C4Dd2630e6FF09474560948ab938 --remotepooladdress 0xC933Ce153A775F0831c7c7cDC4FDEAEf6D51aF52 --network sepolia
   ```

   Example output:

   ```bash
   $ npx hardhat configurePool --pooladdress 0xd54D9CeFdF38451f030E35973A7830A7A9C01d09 --remotechain avalancheFuji --remotetokenaddress 0x003b9551d637C4Dd2630e6FF09474560948ab938 --remotepooladdress 0xC933Ce153A775F0831c7c7cDC4FDEAEf6D51aF52 --network sepolia

   2024-09-17T09:38:57.270Z info: Applying chain update to pool at address: 0xd54D9CeFdF38451f030E35973A7830A7A9C01d09
   2024-09-17T09:39:13.864Z info: Chain update applied successfully
   ```

### Mint Tokens

In this step, you will use the `mintTokens.ts` task to mint tokens on Avalanche Fuji for your Externally Owned Account (EOA). Since you assigned mint and burn privileges to your EOA when deploying the tokens in the first step, you can now mint tokens for testing purposes. This is to ensure that you have enough tokens in your EOA to perform cross-chain transfers in the next step.

You will interact with the `BurnMintERC677` token contract, specifically calling the `mint()` function to mint tokens to your EOA.

Below is an explanation of the parameters used during the minting process:

| Parameter         | Description                                                                                                                   | Default | Required |
| ----------------- | ----------------------------------------------------------------------------------------------------------------------------- | ------- | -------- |
| `tokenaddress`    | The address of the token for which tokens are being minted.                                                                   | N/A     | Yes      |
| `amount`          | The amount of tokens to mint (in wei).                                                                                        | N/A     | Yes      |
| `receiveraddress` | The address of the receiver of the minted tokens. If not provided, defaults to your EOA.                                      | N/A     | No       |
| `network`         | The blockchain on which the minting process will be executed. Examples include `avalancheFuji`, `baseSepolia`, and `sepolia`. | N/A     | Yes      |

Mint tokens to your EOA using the following command, replacing the token address with the one you deployed in the previous steps:

1. **Mint tokens on Avalanche Fuji:**

   ```bash
   npx hardhat mintTokens --tokenaddress 0x003b9551d637C4Dd2630e6FF09474560948ab938 --amount 1000000000000000000000 --network avalancheFuji
   ```

   Example output:

   ```bash
   $ npx hardhat mintTokens --tokenaddress 0x003b9551d637C4Dd2630e6FF09474560948ab938 --amount 1000000000000000000000 --network avalancheFuji

   2024-09-17T09:46:19.464Z info: Minting 1000000000000000000000 of BnMaem tokens to 0x9d087fC03ae39b088326b67fA3C788236645b717
   2024-09-17T09:46:27.166Z info: Minted 1000000000000000000000 of BnMaem tokens to 0x9d087fC03ae39b088326b67fA3C788236645b717 - transaction hash: 0x79fbbd82c47886f7f7aacb074dd0843cb4ff53957afb8599a269a35f3eda95b9
   2024-09-17T09:46:27.368Z info: Current balance of 0x9d087fC03ae39b088326b67fA3C788236645b717 is 1000000000000000000000 BnMaem
   ```

### Transfer Tokens

In this step, you will use the `transferTokens` task to transfer tokens from Avalanche Fuji to Ethereum Sepolia using CCIP. You have two options for paying CCIP fees: using LINK tokens or native gas tokens.

You will interact with the `IRouterClient` contract, specifically calling the `ccipSend()` function to initiate the token transfer.

Below is an explanation of the parameters used during the token transfer process:

| Parameter          | Description                                                                                                                   | Default | Required |
| ------------------ | ----------------------------------------------------------------------------------------------------------------------------- | ------- | -------- |
| `tokenaddress`     | The address of the token being transferred.                                                                                   | N/A     | Yes      |
| `amount`           | The amount of tokens to transfer.                                                                                             | N/A     | Yes      |
| `destinationchain` | The blockchain to which the tokens will be transferred. Examples include `avalancheFuji`, `baseSepolia`, and `sepolia`.       | N/A     | Yes      |
| `receiveraddress`  | The address of the receiver on the destination blockchain.                                                                    | N/A     | Yes      |
| `fee`              | The type of fee used for the transfer, either `LINK` or `native`.                                                             | `LINK`  | No       |
| `network`          | The blockchain on which the token transfer will be initiated. Examples include `avalancheFuji`, `baseSepolia`, and `sepolia`. | N/A     | Yes      |

#### Pay fees in LINK

Call the CCIP Router to transfer tokens from Avalanche Fuji to Sepolia, paying the CCIP fees in LINK tokens. Replace the token address, amount, receiver address, and blockchain with the appropriate values:

```bash
npx hardhat transferTokens --tokenaddress 0x003b9551d637C4Dd2630e6FF09474560948ab938 --amount 100 --destinationchain sepolia --receiveraddress 0x9d087fC03ae39b088326b67fA3C788236645b717 --network avalancheFuji
```

Example output:

```bash
$ npx hardhat transferTokens --tokenaddress 0x003b9551d637C4Dd2630e6FF09474560948ab938 --amount 100 --destinationchain sepolia --receiveraddress 0x9d087fC03ae39b088326b67fA3C788236645b717 --network avalancheFuji

2024-09-17T11:23:54.813Z info: Estimated fees: 86718653939520000
2024-09-17T11:23:54.815Z info: Approving 100 0x003b9551d637C4Dd2630e6FF09474560948ab938 to 0xf85E941163a8B35F48bD8814227665d82Fd4dd65
2024-09-17T11:23:59.632Z info: Approving 86718653939520000 LINK to 0xf85E941163a8B35F48bD8814227665d82Fd4dd65
2024-09-17T11:24:05.641Z info: Transferring 100 of 0x003b9551d637C4Dd2630e6FF09474560948ab938 to 0x9d087fC03ae39b088326b67fA3C788236645b717 on chain sepolia with 86718653939520000 of LINK as fees
2024-09-17T11:24:10.326Z info: Transaction hash: 0x0e1d11f4cd6810268b53981f38051c1174d48c3cd10983a6da8f3ff647ebcff4
2024-09-17T11:24:10.454Z info: ✅ Transferred 100 of 0x003b9551d637C4Dd2630e6FF09474560948ab938 to 0x9d087fC03ae39b088326b67fA3C788236645b717 on chain sepolia. Transaction hash: 0x0e1d11f4cd6810268b53981f38051c1174d48c3cd10983a6da8f3ff647ebcff4 - CCIP message id: 0xec62a4e96ad09f24c474788f045f3a8524c5f6382990d289e5eeaa3d78d8ff04
2024-09-17T11:24:10.455Z info: Check status of message on https://ccip.chain.link/msg/0xec62a4e96ad09f24c474788f045f3a8524c5f6382990d289e5eeaa3d78d8ff04
```

#### Pay fees in native gas tokens

Call the CCIP Router to transfer tokens from Avalanche Fuji to Sepolia, paying the CCIP fees in native gas tokens. Replace the token address, amount, receiver address, and blockchain with the appropriate values:

```bash
npx hardhat transferTokens --tokenaddress 0x003b9551d637C4Dd2630e6FF09474560948ab938 --amount 100 --destinationchain sepolia --receiveraddress 0x9d087fC03ae39b088326b67fA3C788236645b717 --fee native --network avalancheFuji
```

Example output:

```bash
$ npx hardhat transferTokens --tokenaddress 0x003b9551d637C4Dd2630e6FF09474560948ab938 --amount 100 --destinationchain sepolia --receiveraddress 0x9d087fC03ae39b088326b67fA3C788236645b717 --fee native --network avalancheFuji

2024-09-17T11:25:38.681Z info: Estimated fees: 524791026263466666
2024-09-17T11:25:38.684Z info: Approving 100 0x003b9551d637C4Dd2630e6FF09474560948ab938 to 0xf85E941163a8B35F48bD8814227665d82Fd4dd65
2024-09-17T11:25:41.660Z info: Transferring 100 of 0x003b9551d637C4Dd2630e6FF09474560948ab938 to 0x9d087fC03ae39b088326b67fA3C788236645b717 on chain sepolia with 524791026263466666 of native token as fees
2024-09-17T11:25:47.540Z info: Transaction hash: 0xb5daa0be810366646deb71ae430ece7103f88990125f86389f3317f2eee2b786
2024-09-17T11:25:47.664Z info: ✅ Transferred 100 of 0x003b9551d637C4Dd2630e6FF09474560948ab938 to 0x9d087fC03ae39b088326b67fA3C788236645b717 on chain sepolia. Transaction hash: 0xb5daa0be810366646deb71ae430ece7103f88990125f86389f3317f2eee2b786 - CCIP message id: 0xb1663ecc664b889fac50972dcb5799a0e9edbc91633f7edc0e1b378984f69981
2024-09-17T11:25:47.664Z info: Check status of message on https://ccip.chain.link/msg/0xb1663ecc664b889fac50972dcb5799a0e9edbc91633f7edc0e1b378984f69981
```
