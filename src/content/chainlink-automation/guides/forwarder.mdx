---
section: automation
date: Last Modified
title: "Secure Upkeeps Using the Forwarder"
isMdx: true
whatsnext:
  {
    "Create Automation-Compatible Contracts": "/chainlink-automation/guides/compatible-contracts",
    "Troubleshoot and Debug Upkeeps": "/chainlink-automation/reference/debugging-errors",
  }
---

import { Aside, ClickToZoom, CodeSample } from "@components"

This tutorial explains how to use the `Forwarder` to add additional security to your Automation upkeeps. To learn how other Chainlink Automation contracts work, click [here](/chainlink-automation/reference/automation-contracts).

## What is a Forwarder? When is it used?

Each registered upkeep under the Chainlink Automation network has its own unique `Forwarder` contract. The `Forwarder` address will only be known after registration, as we deploy a new forwarder for each upkeep. The `Forwarder` contract is the intermediary between the Automation Registry and your Upkeep contract. The `Forwarder` is always the `msg.Sender` for your upkeep.

If your `performUpkeep` function is open and callable by anyone without risk of accepting unintentional external data, you don't need to use the `Forwarder`.

## Securing your upkeep

If your upkeep's perform function needs to be permissioned, please consider adding `msg.sender = forwarder` at the top of your `performUpkeep` function.

To make this work you will need to:

- Create `forwarder` as a mutable address variable on your contract that only _you_ can update. `forwarder` is a unique value that cannot change for your upkeep.
- Create a `setForwarder` function in your contract so you can update the `forwarder` address.
- Register your upkeep and retreive its forwarder address. After registration, your upkeep's forwarder address is available in the Chainlink Automation App. Alternatively, you can fetch it programmatically using `registry.getForwarder(upkeepID)` from the Registry interface.
- Run `setForwarder` with the forwarder address.

<Aside type="caution" title="Permissioning for time-based upkeeps">
For time-based upkeeps, do **not** use the forwarder address. Instead, use the **Upkeep address** shown in the Chainlink Automation App:
<ClickToZoom src="/images/automation/cron-upkeep-address.png" alt="Upkeep address in Chainlink Automation App" />

For time-based upkeeps, the **Upkeep address** is the address of the contract that is calling your contract. You can follow the same steps listed above, and substitute the **Upkeep address** for the forwarder address.

</Aside>

## Code example

The code sample below uses the Forwarder:

<CodeSample src="samples/Automation/CounterwForwarder.sol" />
