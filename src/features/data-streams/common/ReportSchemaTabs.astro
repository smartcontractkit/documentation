---
import { PageTabs } from "@components"

// Get current page URL to determine if we should show deprecated schemas
const currentUrl = Astro.url.pathname

const allReportSchemaPages = [
  {
    name: "Crypto Advanced (v3)",
    url: "/data-streams/reference/report-schema-v3",
  },
  {
    name: "Crypto Advanced (v3) - DEX State Price",
    url: "/data-streams/reference/report-schema-v3-dex",
  },
  {
    name: "RWA (v4)",
    url: "/data-streams/reference/report-schema-v4",
    deprecated: true,
  },
  {
    name: "Redemption Rates (v7)",
    url: "/data-streams/reference/report-schema-v7",
  },
  {
    name: "RWA Standard (v8)",
    url: "/data-streams/reference/report-schema-v8",
  },
  {
    name: "RWA Advanced (v11)",
    url: "/data-streams/reference/report-schema-v11",
  },
  {
    name: "SmartData (v9)",
    url: "/data-streams/reference/report-schema-v9",
  },
  {
    name: "Tokenized Asset (v10)",
    url: "/data-streams/reference/report-schema-v10",
  },
]

// Only show deprecated schemas if user is currently on a deprecated page
const isOnDeprecatedPage = allReportSchemaPages.some((page) => page.deprecated && currentUrl === page.url)

const reportSchemaPages = allReportSchemaPages.filter((page) => !page.deprecated || isOnDeprecatedPage)
---

<PageTabs
  pages={reportSchemaPages}
  headerTitle="Available Report Schemas"
  headerDescription="Choose the schema version you want to explore."
/>
